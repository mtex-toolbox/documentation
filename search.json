---
title: search
layout: none
search: exclude
---

[
	{% for page in site.pages %}
		{% unless page.search == "exclude" %}

			{% if page.sidebar %}
				{% assign found = 0 %}
				{% assign foundSidebar = page.sidebar | replace: "_sidebar", "." | replace: "_", " " | capitalize %}

				{% for entry in site.data.sidebars[page.sidebar].entries %}
					{% if found == 1 %}{% break %}{% endif %}
					{% assign foundEntry = entry.product %}

					{% for folder in entry.folders %}
						{% if found == 1 %}{% break %}{% endif %}
						{% assign foundFolder = folder.title %}

						{% for item in folder.folderitems %}
							{% if found == 1 %}{% break %}{% endif %}
							{% assign foundItem = item.title %}

							{% if item.subfolders %}
								{% assign found = 1 %}
								{% assign foundSub = page.url | remove: ".html" | remove: "/" %}
							{% else %}
								{% if foundItem == page.title %}
									{% assign found = 1 %}
								{% endif %}
							{% endif %}
						{% endfor %}
					{% endfor %}
				{% endfor %}

				{% assign path = foundSidebar %}
				{% if foundEntry %}{% assign path = path | append: "." | append: foundEntry %}{% endif %}
				{% if foundFolder %}{% assign path = path | append: "." | append: foundFolder %}{% endif %}
				{% if foundItem %}{% assign path = path | append: "." | append: foundItem %}{% endif %}
				{% if foundSub %}{% assign path = path | append: "." | append: foundSub %}{% endif %}

			{% else %}
				{% assign path = page.url | remove: '.html' | replace: '/', '.' %}
			{% endif %}
	{
		"title"			: "{{ page.title | strip | escape }}",
		"url"			: "{{ page.url | remove: '/' }}",
		"path"			: "{{ path | split: '.' | join: ' > ' | remove_first: ' > ' }}",
		"date"			: "{{ page.last_updated | date_to_xmlschema | date: '%b %d, %Y' }}",
		"keywords"		: "{{ page.keywords }}",
		"summary"		: "{{ page.summary | strip | escape | truncate: 200 }}"
	}
			{% unless forloop.last and site.posts.size < 1 %},{% endunless %}
		{% endunless %}
	{% endfor %}

	{% for post in site.posts %}
		{% unless post.published == false %}
	{
		"title"			: "{{ post.title | strip | escape }}",
		"url"			: "{{ post.url | remove: '/' }}",
		"path"			: "{{ post.url | remove: '.html' | replace: '/', '.' | split: '.' | join: ' > ' | remove_first: ' > ' }}",
		"date"			: "{{ post.date | date_to_xmlschema | date: '%b %d, %Y' }}",
		"keywords"		: "{{ post.tags }}",
		"summary"		: "{{ post.categories }}"
	}
			{% unless forloop.last %},{% endunless %}
		{% endunless %}
	{% endfor %}
]
